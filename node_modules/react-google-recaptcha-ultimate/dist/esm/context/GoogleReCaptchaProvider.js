/* @license react-google-recaptcha-ultimate v1.2.2 */
import{a as e,b as r,c as t,d as o}from"../_rollupPluginBabelHelpers-ee9924ff.js";import i from"react";import{checkGoogleReCaptchaInjected as n}from"../utils/helpers/checkGoogleReCaptchaInjected.js";import{hideGoogleReCaptchaBadge as a}from"../utils/helpers/hideGoogleReCaptchaBadge.js";import{injectGoogleReCaptchaScript as l}from"../utils/helpers/injectGoogleReCaptchaScript.js";import{removeGoogleReCaptchaBadge as s}from"../utils/helpers/removeGoogleReCaptchaBadge.js";import{removeGoogleReCaptchaContainer as c}from"../utils/helpers/removeGoogleReCaptchaContainer.js";import{removeGoogleReCaptchaScript as u}from"../utils/helpers/removeGoogleReCaptchaScript.js";import{GoogleReCaptchaContextProvider as p}from"./GoogleReCaptchaContext.js";import"../utils/helpers/generateGoogleReCaptchaHiddenBadgeStyles.js";import"../utils/helpers/generateGoogleReCaptchaScriptSrc.js";var d=function(d){var v=d.type,h=d.siteKey,g=d.language,f=d.scriptProps,m=d.isEnterprise,b=void 0!==m&&m,C=d.host,x=d.children,w=d.explicit,R=d.onLoad,G=d.onError,j=i.useState(!0),k=e(j,2),y=k[0],E=k[1],S=i.useState(),B=e(S,2),L=B[0],H=B[1];i.useEffect((function(){var e;if(!h)throw new Error("Google ReCaptcha site key not provided");var i=null!==(e=null==f?void 0:f.id)&&void 0!==e?e:"google-recaptcha-script",p=n(i),d=function(){var e,i=b?null===(e=window.grecaptcha)||void 0===e?void 0:e.enterprise:window.grecaptcha;if(i){if(w||i.ready(t(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(i),!R){e.next=4;break}return e.next=4,R(i);case 4:E(!0);case 5:case"end":return e.stop()}}),e)})))),w){var n=r(r({size:"v3"===v||"v2-invisible"===v?"invisible":"normal"},("v3"===v||"v2-invisible"===v)&&{badge:"bottomright"}),{},{sitekey:h},w);if(!p)("v3"===v||"v2-invisible"===v)&&"hidden"===(null==w?void 0:w.badge)&&a();i.ready(t(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.container&&i.render(w.container,n,!!w.inherit),H(i),!R){e.next=5;break}return e.next=5,R(i);case 5:E(!0);case 6:case"end":return e.stop()}}),e)}))))}}else G&&G()};return window.onGoogleReCaptchaLoad=d,p?d():l(r(r(r(r({isEnterprise:b,host:C},("v3"===v||"v2-invisible"===v)&&(null==w?void 0:w.badge)&&{badge:"hidden"===(null==w?void 0:w.badge)?"bottomright":null==w?void 0:w.badge}),g&&{hl:g}),{},{render:("v3"===v||"v2-invisible"===v)&&null!=w&&w.container||"v2-checkbox"===v?"explicit":h},f),{},{onload:d,id:i})),function(){null==L||L.reset(),p||u(i),"v3"!==v&&"v2-invisible"!==v||null!=w&&w.container||null==w||!w.badge?s():c("google-recaptcha-container")}}),[b,g,C]);var I=i.useCallback((function(e){if(null==L||!L.execute)throw new Error("Google ReCaptcha has not been loaded");return L.execute(h,{action:e})}),[L]),K=i.useCallback((function(e){if(null==L||!L.execute)throw new Error("Google ReCaptcha has not been loaded");return L.execute(e)}),[L]),P=i.useMemo((function(){return r({googleReCaptcha:L,siteKey:h,isLoading:y,executeV2Invisible:K,executeV3:I,reset:null==L?void 0:L.reset,getResponse:null==L?void 0:L.getResponse,render:null==L?void 0:L.render},g&&{language:g})}),[h,L,y,g]);return i.createElement(p,{value:P},x)};export{d as GoogleReCaptchaProvider};
//# sourceMappingURL=GoogleReCaptchaProvider.js.map
